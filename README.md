# ~~Brotli extension for the HTML Webpack Plugin~~

**Deprecated: This library has been deprecated. Please check [html-webpack-change-assets-extension-plugin](https://github.com/nerdmax/html-webpack-change-assets-extension-plugin) as an alternative**

[![NPM Version][npm-image]][npm-url]
[![License Stats][npm-license]][npm-url]
[![Downloads Stats][npm-downloads]][npm-url]
[![Github stars][github-stars]][github-url]
[![Github issues][github-issues]][github-issues-url]

<!-- [![Build Status][travis-image]][travis-url] -->

> Add .br suffix to index.html file's script that generated by html-webpack-plugin.
> This is an extension plugin for the [webpack](http://webpack.github.io) plugin [html-webpack-plugin](https://github.com/ampedandwired/html-webpack-plugin) - a plugin that simplifies the creation of HTML files to serve your webpack bundles.

[![nodei.co][npm-io]][npm-url]

- [~~Brotli extension for the HTML Webpack Plugin~~](#brotli-extension-for-the-html-webpack-plugin)
  - [Installation](#installation)
  - [Basic Usage](#basic-usage)

## Installation

Install the plugin with npm:

```shell
$ npm install --save-dev html-webpack-brotli-plugin
```

## Basic Usage

Require the plugin in your webpack config:

```javascript
var HtmlWebpackBrotliPlugin = require("html-webpack-brotli-plugin");
```

Add the plugin to your webpack config as follows:

```javascript
plugins: [
  new HtmlWebpackPlugin(),
  new BrotliPlugin({
    asset: "[path].br[query]",
    test: /\.(js|css|html|svg)$/,
    threshold: 10240,
    minRatio: 0.8
  }), // brotli plugin will generate the xxx.js.br file
  new HtmlWebpackBrotliPlugin()
];
```

The above configuration will actually do nothing due to the configuration defaults.

As soon as you set `addBrotliExtension` to `true`, the file name of the index.html's script tag will always be added .br suffix. Eg: xxx.js.br This is very useful if you are using [brotli-webpack-plugin](https://github.com/mynameiswhm/brotli-webpack-plugin).

```javascript
plugins: [
  new HtmlWebpackPlugin({
    addBrotliExtension: true
  }),
  new BrotliPlugin({
    asset: "[path].br[query]",
    test: /\.(js|css|html|svg)$/,
    threshold: 10240,
    minRatio: 0.8
  }), // brotli plugin will generate the xxx.js.br file
  new HtmlWebpackBrotliPlugin()
];
```

Even if you generate multiple files make sure that you add the HtmlWebpackBrotliPlugin **only once**:

```javascript
plugins: [
  new HtmlWebpackPlugin({
    addBrotliExtension: true
  }),
  new HtmlWebpackPlugin({
    addBrotliExtension: true,
    filename: "demo.html"
  }),
  new HtmlWebpackPlugin({
    addBrotliExtension: false,
    filename: "test.html"
  }),
  new BrotliPlugin({
    asset: "[path].br[query]",
    test: /\.(js|css|html|svg)$/,
    threshold: 10240,
    minRatio: 0.8
  }), // brotli plugin will generate the xxx.js.br file
  new HtmlWebpackBrotliPlugin()
];
```

<!-- Markdown link & img dfn's -->

[npm-image]: https://img.shields.io/npm/v/html-webpack-brotli-plugin.svg?style=flat-square
[npm-url]: https://www.npmjs.com/package/html-webpack-brotli-plugin
[npm-license]: https://img.shields.io/npm/l/html-webpack-brotli-plugin.svg
[npm-downloads]: https://img.shields.io/npm/dm/html-webpack-brotli-plugin.svg?style=flat-square
[github-url]: https://github.com/nerdmax/html-webpack-brotli-plugin
[github-issues]: https://img.shields.io/github/issues/nerdmax/html-webpack-brotli-plugin.svg
[github-issues-url]: https://github.com/nerdmax/html-webpack-brotli-plugin/issues
[github-stars]: https://img.shields.io/github/stars/nerdmax/html-webpack-brotli-plugin.svg
[travis-image]: https://img.shields.io/travis/dbader/node-html-webpack-brotli-plugin/master.svg?style=flat-square
[travis-url]: https://travis-ci.org/dbader/node-html-webpack-brotli-plugin
[npm-io]: https://nodei.co/npm/html-webpack-brotli-plugin.png?downloads=true&downloadRank=true&stars=true
[wiki]: https://github.com/nerdmax/html-webpack-brotli-plugin/wiki
